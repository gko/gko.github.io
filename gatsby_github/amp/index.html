<!DOCTYPE html><html lang="en" amp="true"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="google-site-verification" content="UnUpmjHYK-ovLPrET8_xJ_XgJnmCyQcrYxkWkN06Z0k"/><meta name="generator" content="Gatsby 2.0.85"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#333333"/><title data-react-helmet="true">Konstantin Gorodinskiy</title><link data-react-helmet="true" rel="canonical" href="https://konstantin.io/gatsby_github/"/><meta data-react-helmet="true" name="description" content="There are many tutorials on how to run a gatsby website with github pages, but most if not all of them are focused on how to generate a website for your…"/><meta data-react-helmet="true" property="og:title" content="Running «Gatsby.js» blog with github pages"/><meta data-react-helmet="true" property="og:description" content="There are many tutorials on how to run a gatsby website with github pages, but most if not all of them are focused on how to generate a website for your…"/><meta data-react-helmet="true" property="og:url" content="https://konstantin.io/gatsby_github/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:creator" content="Konstantin"/><meta data-react-helmet="true" name="twitter:title" content="Running «Gatsby.js» blog with github pages"/><meta data-react-helmet="true" name="twitter:description" content="There are many tutorials on how to run a gatsby website with github pages, but most if not all of them are focused on how to generate a website for your…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="https://konstantin.io/running-gatsby-js-blog-with-github-pages.png"/><noscript data-react-helmet="true"><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><script data-react-helmet="true" async="" src="https://cdn.ampproject.org/v0.js"></script><script data-react-helmet="true" type="application/ld+json">{
                      "@context": "http://schema.org",
                      "@type": "NewsArticle",
                      "headline": "Running «Gatsby.js» blog with github pages",
                      "datePublished": "2019-01-02T00:00:00.000Z",
                      "dateModified": "2019-01-02T00:00:00.000Z",
                      "author": "Konstantin",
                      "publisher": {
                        type: "Person",
                        name: "Konstantin"
                      },
                      "mainEntityOfPage": "https://konstantin.io/running-gatsby-js-blog-with-github-pages",
                      "image": [
                        "https://konstantin.io/running-gatsby-js-blog-with-github-pages.png"
                      ]
                    }</script><style data-react-helmet="true" amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/0-a632b95a34dcbb25d4c8.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-amp-js-0cf67bacc2f5d4d5c205.js"/><link as="script" rel="preload" href="/1-6f89559752afe52e3eb9.js"/><link as="script" rel="preload" href="/app-0d00eb9bd12d2099c818.js"/><link as="script" rel="preload" href="/webpack-runtime-5706810cf4ced804adae.js"/><link as="fetch" rel="preload" href="/static/d/987/path---gatsby-github-amp-ef-4-e6c-GxjR7QMKNp6Jykkk758BARbZFM.json" crossOrigin="use-credentials"/> </head> <body>  <div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><h3 class="backLink"><a style="box-shadow:none;text-decoration:none;color:inherit;font-weight:300" href="/"><span class="arrow">←</span> <!-- -->Konstantin Gorodinskiy</a></h3><h1>Running «Gatsby.js» blog with github pages</h1><ul class="tags" style="padding-left:0"><li class="tag"><a href="/tags/gatsby/">gatsby</a></li><li class="tag"><a href="/tags/git/">git</a></li><li class="tag"><a href="/tags/github/">github</a></li><li class="tag"><a href="/tags/blog/">blog</a></li></ul><p>January 02, 2019</p><div><p>There are many tutorials on how to run a gatsby website with github pages, but most if not all of them are focused on how to generate a website for your repository.</p>
<p>Github has a feature where it provides you with ability to host your static website, i.e. «username.github.io» and link a domain name to it.</p>
<p>To do that you can create a repository <code class="language-text">username.github.io</code>. You can find more info on that <a href="https://pages.github.com">here</a></p>
<p>Now the problem with gatsby and github pages is that the generated resources are not in the root folder of your repository and if you use <code class="language-text">gh-pages</code> package it will rewrite all your source files when you publish.</p>
<p>To fix that, you need to create a <code class="language-text">dev</code> branch which will contain all your sources and add <code class="language-text">deploy</code> script to your <code class="language-text">package.json</code> that will contain following:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  …
  scripts<span class="token operator">:</span> <span class="token punctuation">{</span>
    deploy<span class="token operator">:</span> 'gatsby build &amp;&amp; gh-pages -d public -b master'
  <span class="token punctuation">}</span>
  …
<span class="token punctuation">}</span></code></pre></div>
<p>So when we run <code class="language-text">npm run deploy</code> on dev branch gatsby builds sources from <code class="language-text">dev</code> branch and gh-pages publishes the result to the root folder on <code class="language-text">master</code> branch.</p>
<h2>Custom domain name</h2>
<p>If you have already setup a custom domain for github pages, you would notice that there has to be a <code class="language-text">CNAME</code> file in the root folder of your repository that contains custom domain name.</p>
<p>If we run <code class="language-text">npm run deploy</code> this file would be deleted by generated website.</p>
<p>To keep this file you will need to store it in <code class="language-text">static</code> folder. You can find more info about static folder <a href="https://www.gatsbyjs.org/docs/static-folder/">here</a>.</p></div><hr/><footer>© <!-- -->2019<!-- -->, <a href="mailto:hi@konstantin.io?subject=hello">Konstantin</a></footer></div></div></div>  </body> </html>